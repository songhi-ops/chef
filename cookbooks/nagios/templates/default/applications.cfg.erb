define host {
        use                     linux-server
        host_name               <%= @hostname %>
        alias                   <%= @hostname %>
        address                 <%= @ipaddress %>
        }

#http://serverfault.com/questions/209566/what-warning-and-critical-values-to-use-for-check-load
define service {
        use                             generic-service
        host_name                       <%= @hostname %>
        service_description             load
        check_command                   check_load!<%= @cores * 0.9 %>,<%= @cores * 0.7 %>,<%= @cores * 0.5 %>!<%= @cores %>,<%= @cores * 0.8 %>,<%= @cores * 0.6 %>
        }


define service {
        use                             generic-service
        host_name                       <%= @hostname %>
        service_description             root_partition
        check_command                   check_disk!20%!10%!/
        }

define service {
        use                             generic-service
        host_name                       <%= @hostname %>
        service_description             logs_partition
        check_command                   check_disk!20%!10%!/logs
        }

define service {
        use                             generic-service
        host_name                       <%= @hostname %>
        service_description             memory
        check_command                   check_memory!94!95
        }

define service {
        use                             generic-service
        host_name                       <%= @hostname %>
        service_description             mongodb_connection
        check_command                   check_mongodb!connect!27017!2!4
        }

